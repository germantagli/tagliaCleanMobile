{"version":3,"sources":["webpack:///./src/app/taglia-clean-service.service.ts"],"names":[],"mappings":"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","file":"default~login-login-module~tab1-tab1-module~tab2-tab2-module~tab3-tab3-module~tab4-tab4-module~tabs-~193679f1.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport * as firebase from 'firebase/app';\nimport { Storage } from '@ionic/storage';\nimport { Router } from '@angular/router';\nimport { LoadingController } from '@ionic/angular';\nimport { AngularFireDatabase } from '@angular/fire/database';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TagliaCleanServiceService {\n  public utenteActivo=null;\n  public loading=null;\n  public Lista=[]\n  public attivatabs=false;\n   constructor(public afDB: AngularFireDatabase, public loadingController: LoadingController, private afAuth :  AngularFireAuth, public storage: Storage,private router: Router) {\n    this.createLoading();\n   }\n\n  public getPostiLavoro() {\n    return this.afDB.list('/postilavoro/').valueChanges()\n    //Esta función devolverá todos los datos que tengamos en el apartado fruits, en nuestra base de datos\n  }\n\n  public getOre() {\n    \n    return this.afDB.list('/ore/').valueChanges();\n    //Esta función devolverá todos los datos que tengamos en el apartado fruits, en nuestra base de datos\n  }\n\n  public getOreId() {\n    return this.afDB.list('/ore/').auditTrail();\n    //Esta función devolverá todos los datos que tengamos en el apartado fruits, en nuestra base de datos\n  }\n\n\n  public addOre(ora) {\n    this.onLoading();\n    return this.afDB.list('/ore/').push(ora)\n    .then((res) => {\n      this.offLoading();\n     \n      // El usuario se ha creado correctamente.\n    })\n    .catch(err => this.offLoading())\n    //Esta función devolverá todos los datos que tengamos en el apartado fruits, en nuestra base de datos\n  }\n\n  public delete(key){\n    this.onLoading();\n    console.log(key);\n    this.afDB.database.ref('ore/'+key).remove() .then((res) => {\n      console.log(res);\n      this.offLoading();\n      // El usuario se ha creado correctamente.\n    })\n    .catch(err => this.offLoading())\n    //Esta función devolverá todos los datos que tengamos en el apartado fruits, en nuestra base de datos\n  }\n   \n   \n  async createLoading() {\n    this.loading = await this.loadingController.create({\n      message: 'Loading...',\n      spinner: 'circles'\n    });\n    this.loading.present();\n    this.loading.hidden=true;\n  }\n\n   async onLoading() {\n    this.loading.hidden=false;\n  }\n\n  async offLoading() {\n    this.loading.hidden=true;\n  }\n\n\n  // Registro de usuario\n  registerUser(email: string, password: string) {\n    this.onLoading();\n    return this.afAuth.auth.createUserWithEmailAndPassword(email, password)\n      .then((res) => {\n        this.offLoading();\n        // El usuario se ha creado correctamente.\n      })\n      .catch(err => this.offLoading())\n  }\n\n  // Login de usuario\n  loginUser(email: string, password: string) {\n    this.onLoading();\n    return this.afAuth.auth.signInWithEmailAndPassword(email, password)\n      .then((user) => { \n        this.utenteActivo = user.user;\n        this.storage.set('token',user.user.uid);\n        this.storage.set('email',user.user.email);\n        this.storage.set('userId',user.user.uid);\n        this.attivatabs=true;\n        this.router.navigateByUrl('/tabs/tab1');\n        this.offLoading();\n      })\n      .catch(err => this.offLoading())\n      \n  }\n\n    // Login de usuario\n    public async logoutUser() {\n       this.storage.remove('token');\n       this.storage.remove('email');\n       this.storage.remove('userId');\n        this.utenteActivo=null;\n        this.router.navigateByUrl('login');\n    }\n\n  public mese:Array<any> = [\n    {\n      \"nome\": \"Gennaio\",\n      \"id\": 1\n    },\n    {\n      \"nome\": \"Febraio\",\n      \"id\": 2\n    },\n    {\n      \"nome\": \"Marzo\",\n      \"id\": 3\n    },\n    {\n      \"nome\": \"Aprile\",\n      \"id\": 4\n    },\n    {\n      \"nome\": \"Maggio\",\n      \"id\": 5\n    },\n    {\n      \"nome\": \"Giugnio\",\n      \"id\": 6\n    },\n    {\n      \"nome\": \"Luglio\",\n      \"id\": 7\n    },\n    {\n      \"nome\": \"Agosto\",\n      \"id\": 8\n    },\n    {\n      \"nome\": \"Settembre\",\n      \"id\": 9\n    },\n    {\n      \"nome\": \"Ottobre\",\n      \"id\": 10\n    },\n    {\n      \"nome\": \"Nomvembre\",\n      \"id\": 11\n    },\n    {\n      \"nome\": \"Dicembre\",\n      \"id\": 12\n    }\n\n\n  ]\n}\n"],"sourceRoot":""}